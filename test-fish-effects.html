<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸŸ æ–°é±¼ç‰¹æ•ˆé¢„è§ˆ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(180deg, #B2EBF2 0%, #4FC3F7 30%, #0288D1 70%, #01579B 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        h1 {
            text-align: center;
            color: white;
            font-size: 32px;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .subtitle {
            text-align: center;
            color: rgba(255,255,255,0.9);
            margin-bottom: 30px;
            font-size: 16px;
        }
        
        .controls {
            background: rgba(255,255,255,0.95);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.2);
        }
        
        .button-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin-bottom: 15px;
        }
        
        button {
            padding: 15px 20px;
            border: none;
            border-radius: 10px;
            font-size: 15px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }
        
        button.active {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            transform: scale(1.05);
        }
        
        .info {
            background: rgba(100, 200, 255, 0.2);
            padding: 15px;
            border-radius: 10px;
            margin-top: 15px;
            border-left: 4px solid #0288D1;
        }
        
        .info h3 {
            color: #01579B;
            margin-bottom: 8px;
            font-size: 18px;
        }
        
        .info p {
            color: #0277BD;
            line-height: 1.6;
            margin: 5px 0;
        }
        
        .canvas-container {
            background: rgba(255,255,255,0.95);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.2);
        }
        
        canvas {
            display: block;
            width: 100%;
            max-width: 800px;
            height: 500px;
            margin: 0 auto;
            background: linear-gradient(180deg, #B2EBF2 0%, #4FC3F7 30%, #0288D1 70%, #01579B 100%);
            border-radius: 10px;
            box-shadow: inset 0 0 30px rgba(0,0,0,0.2);
        }
        
        .stats {
            display: flex;
            justify-content: space-around;
            margin-top: 15px;
            padding: 10px;
            background: rgba(100, 200, 255, 0.1);
            border-radius: 8px;
        }
        
        .stat {
            text-align: center;
        }
        
        .stat-label {
            font-size: 12px;
            color: #666;
            margin-bottom: 5px;
        }
        
        .stat-value {
            font-size: 18px;
            font-weight: bold;
            color: #0288D1;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸŸ æ–°é±¼ç‰¹æ•ˆé¢„è§ˆå™¨</h1>
        <p class="subtitle">ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®åˆ‡æ¢ä¸åŒçš„ç‰¹æ•ˆæ–¹æ¡ˆï¼Œå®æ—¶é¢„è§ˆæ•ˆæœ</p>
        
        <div class="controls">
            <div class="button-group">
                <button onclick="setEffect('current')" class="active" id="btn-current">
                    å½“å‰æ–¹æ¡ˆ<br><small>é‡‘è‰²å…‰ç¯</small>
                </button>
                <button onclick="setEffect('particles')" id="btn-particles">
                    æ–¹æ¡ˆ A<br><small>âœ¨ é—ªå…‰ç²’å­</small>
                </button>
                <button onclick="setEffect('gradient')" id="btn-gradient">
                    æ–¹æ¡ˆ B<br><small>ğŸŒˆ æŸ”å’Œå…‰æ™•</small>
                </button>
                <button onclick="setEffect('bubbles')" id="btn-bubbles">
                    æ–¹æ¡ˆ C<br><small>ğŸ’§ æ°”æ³¡å°¾è¿¹</small>
                </button>
                <button onclick="setEffect('crown')" id="btn-crown">
                    æ–¹æ¡ˆ D<br><small>ğŸ‘‘ å°çš‡å† </small>
                </button>
                <button onclick="setEffect('glow')" id="btn-glow">
                    æ–¹æ¡ˆ E<br><small>ğŸ’ é—ªå…‰è¾¹ç¼˜</small>
                </button>
                <button onclick="setEffect('ripple')" id="btn-ripple">
                    æ–¹æ¡ˆ F<br><small>ğŸŒ€ è„‰å†²æ³¢çº¹</small>
                </button>
                <button onclick="setEffect('combo')" id="btn-combo">
                    æ–¹æ¡ˆ G<br><small>âœ¨ ç»„åˆæ•ˆæœ</small>
                </button>
                <button onclick="setEffect('none')" id="btn-none">
                    æ–¹æ¡ˆ H<br><small>æ— ç‰¹æ•ˆ</small>
                </button>
            </div>
            
            <div class="info" id="effectInfo">
                <h3>å½“å‰æ–¹æ¡ˆï¼šé‡‘è‰²å…‰ç¯</h3>
                <p><strong>æè¿°ï¼š</strong>åŒå±‚é‡‘è‰²å…‰ç¯ï¼Œè„‰åŠ¨æ•ˆæœ</p>
                <p><strong>é£æ ¼ï¼š</strong>æ˜æ˜¾ä½†å¯èƒ½ä¸å¤Ÿè‡ªç„¶</p>
                <p><strong>è‡ªç„¶åº¦ï¼š</strong>â­â­â­</p>
            </div>
        </div>
        
        <div class="canvas-container">
            <canvas id="fishCanvas"></canvas>
            <div class="stats">
                <div class="stat">
                    <div class="stat-label">ç‰¹æ•ˆæ–¹æ¡ˆ</div>
                    <div class="stat-value" id="effectName">é‡‘è‰²å…‰ç¯</div>
                </div>
                <div class="stat">
                    <div class="stat-label">FPS</div>
                    <div class="stat-value" id="fps">60</div>
                </div>
                <div class="stat">
                    <div class="stat-label">ç‰¹æ•ˆæ—¶é•¿</div>
                    <div class="stat-value">60ç§’</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('fishCanvas');
        const ctx = canvas.getContext('2d');
        
        // è®¾ç½®canvaså°ºå¯¸
        canvas.width = 800;
        canvas.height = 500;
        
        // é±¼çš„æ•°æ®
        const fish = {
            x: 200,
            y: 250,
            width: 120,
            height: 72,
            vx: 1.5,
            vy: 0.5,
            direction: 1,
            speed: 2,
            amplitude: 24,
            phase: 0,
            isNewlyCreated: true,
            createdDisplayTime: Date.now(),
            bubbles: []
        };
        
        // ç²’å­ç³»ç»Ÿï¼ˆç”¨äºæ–¹æ¡ˆAï¼‰
        const particles = [];
        for (let i = 0; i < 12; i++) {
            particles.push({
                angle: (Math.PI * 2 * i) / 12,
                distance: fish.width * 0.8,
                opacity: Math.random(),
                speed: 0.02 + Math.random() * 0.01
            });
        }
        
        // åŠ è½½é±¼çš„å›¾ç‰‡
        const fishImage = new Image();
        fishImage.src = 'data:image/svg+xml;base64,' + btoa(`
            <svg width="120" height="72" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <linearGradient id="fishGrad" x1="0%" y1="0%" x2="100%" y2="0%">
                        <stop offset="0%" style="stop-color:rgb(255,140,0);stop-opacity:1" />
                        <stop offset="100%" style="stop-color:rgb(255,165,0);stop-opacity:1" />
                    </linearGradient>
                </defs>
                <ellipse cx="60" cy="36" rx="50" ry="30" fill="url(#fishGrad)" stroke="#FF8C00" stroke-width="2"/>
                <circle cx="75" cy="30" r="5" fill="white"/>
                <circle cx="77" cy="30" r="2" fill="black"/>
                <path d="M 10 36 L -10 20 L -10 52 Z" fill="url(#fishGrad)" stroke="#FF8C00" stroke-width="2"/>
            </svg>
        `);
        
        let currentEffect = 'current';
        
        const effectInfo = {
            current: {
                name: 'é‡‘è‰²å…‰ç¯',
                title: 'å½“å‰æ–¹æ¡ˆï¼šé‡‘è‰²å…‰ç¯',
                desc: 'åŒå±‚é‡‘è‰²å…‰ç¯ï¼Œè„‰åŠ¨æ•ˆæœ',
                style: 'æ˜æ˜¾ä½†å¯èƒ½ä¸å¤Ÿè‡ªç„¶',
                natural: 'â­â­â­'
            },
            particles: {
                name: 'é—ªå…‰ç²’å­',
                title: 'æ–¹æ¡ˆ Aï¼šé—ªå…‰ç²’å­æ•ˆæœ',
                desc: 'é±¼å‘¨å›´ç¯ç»•ç€é—ªçƒçš„å°æ˜Ÿæ˜Ÿç²’å­',
                style: 'æ¢¦å¹»ã€æ´»æ³¼',
                natural: 'â­â­â­â­â­'
            },
            gradient: {
                name: 'æŸ”å’Œå…‰æ™•',
                title: 'æ–¹æ¡ˆ Bï¼šæŸ”å’Œæ¸å˜å…‰æ™•',
                desc: 'é±¼èº«å‘¨å›´æœ‰æŸ”å’Œçš„å½©è™¹æ¸å˜å…‰æ™•ï¼Œæ— æ˜æ˜¾è¾¹ç•Œ',
                style: 'ä¼˜é›…ã€è‡ªç„¶',
                natural: 'â­â­â­â­â­'
            },
            bubbles: {
                name: 'æ°”æ³¡å°¾è¿¹',
                title: 'æ–¹æ¡ˆ Cï¼šæ°”æ³¡å°¾è¿¹æ•ˆæœ',
                desc: 'é±¼æ¸¸åŠ¨æ—¶èº«åè·Ÿéšå°æ°”æ³¡ä¸Šæµ®',
                style: 'å¯çˆ±ã€æ°´ä¸‹æ„Ÿå¼º',
                natural: 'â­â­â­â­â­'
            },
            crown: {
                name: 'å°çš‡å† ',
                title: 'æ–¹æ¡ˆ Dï¼šç®€çº¦æ ‡è®°',
                desc: 'é±¼å¤´é¡¶æ˜¾ç¤ºå°å°çš„çš‡å† å›¾æ ‡',
                style: 'ç®€çº¦ã€æ¸…æ™°',
                natural: 'â­â­â­â­'
            },
            glow: {
                name: 'é—ªå…‰è¾¹ç¼˜',
                title: 'æ–¹æ¡ˆ Eï¼šæŸ”å’Œé—ªå…‰è¾¹ç¼˜',
                desc: 'é±¼çš„è½®å»“æœ‰æŸ”å’Œçš„ç™½è‰²/è“è‰²å‘å…‰',
                style: 'ç§‘æŠ€æ„Ÿã€æ¸…çˆ½',
                natural: 'â­â­â­â­'
            },
            ripple: {
                name: 'è„‰å†²æ³¢çº¹',
                title: 'æ–¹æ¡ˆ Fï¼šè„‰å†²æ³¢çº¹æ•ˆæœ',
                desc: 'ä»é±¼èº«å‘å¤–æ‰©æ•£çš„é€æ˜æ³¢çº¹ï¼ˆåƒå£°å‘ï¼‰',
                style: 'åŠ¨æ€ã€ç°ä»£',
                natural: 'â­â­â­â­'
            },
            combo: {
                name: 'ç»„åˆæ•ˆæœ',
                title: 'æ–¹æ¡ˆ Gï¼šç»„åˆæ•ˆæœï¼ˆæ¨èï¼‰',
                desc: 'ç»“åˆå¾®å¼±çš„å…‰æ™•å’Œå°‘é‡é—ªçƒç²’å­',
                style: 'ç²¾è‡´ã€å¹³è¡¡',
                natural: 'â­â­â­â­â­'
            },
            none: {
                name: 'æ— ç‰¹æ•ˆ',
                title: 'æ–¹æ¡ˆ Hï¼šæ— ç‰¹æ•ˆ',
                desc: 'ä¸æ”¹å˜é±¼æœ¬èº«ï¼Œä»…é€šè¿‡UIæç¤º',
                style: 'æç®€',
                natural: 'â­â­â­â­â­'
            }
        };
        
        function setEffect(effect) {
            currentEffect = effect;
            
            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            document.querySelectorAll('button').forEach(btn => btn.classList.remove('active'));
            document.getElementById('btn-' + effect).classList.add('active');
            
            // æ›´æ–°ä¿¡æ¯
            const info = effectInfo[effect];
            document.getElementById('effectInfo').innerHTML = `
                <h3>${info.title}</h3>
                <p><strong>æè¿°ï¼š</strong>${info.desc}</p>
                <p><strong>é£æ ¼ï¼š</strong>${info.style}</p>
                <p><strong>è‡ªç„¶åº¦ï¼š</strong>${info.natural}</p>
            `;
            document.getElementById('effectName').textContent = info.name;
            
            // é‡ç½®æ°”æ³¡
            fish.bubbles = [];
        }
        
        function drawBackground() {
            const gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
            gradient.addColorStop(0, '#B2EBF2');
            gradient.addColorStop(0.3, '#4FC3F7');
            gradient.addColorStop(0.7, '#0288D1');
            gradient.addColorStop(1, '#01579B');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, canvas.width, canvas.height);
        }
        
        function updateFish() {
            // ç§»åŠ¨é±¼
            fish.x += fish.vx * fish.direction;
            fish.y += fish.vy;
            
            // è¾¹ç•Œåå¼¹
            if (fish.x <= 0 || fish.x >= canvas.width - fish.width) {
                fish.direction *= -1;
                fish.vx = Math.abs(fish.vx);
            }
            if (fish.y <= 0 || fish.y >= canvas.height - fish.height) {
                fish.vy *= -1;
            }
        }
        
        function drawFish() {
            ctx.save();
            
            const centerX = fish.x + fish.width / 2;
            const centerY = fish.y + fish.height / 2;
            
            // åº”ç”¨ç‰¹æ•ˆ
            drawEffect(centerX, centerY);
            
            // ç»˜åˆ¶é±¼ï¼ˆç¿»è½¬ï¼‰
            ctx.translate(centerX, centerY);
            if (fish.direction < 0) {
                ctx.scale(-1, 1);
            }
            ctx.drawImage(fishImage, -fish.width / 2, -fish.height / 2, fish.width, fish.height);
            
            ctx.restore();
        }
        
        function drawEffect(centerX, centerY) {
            const now = Date.now();
            const elapsed = now - fish.createdDisplayTime;
            
            if (elapsed >= 60000) return; // 60ç§’åä¸æ˜¾ç¤º
            
            const pulse = 0.5 + 0.5 * Math.sin(now / 300);
            
            switch(currentEffect) {
                case 'current': // å½“å‰é‡‘è‰²å…‰ç¯
                    ctx.save();
                    ctx.shadowColor = `rgba(255, 215, 0, ${pulse})`;
                    ctx.shadowBlur = 20 + pulse * 15;
                    
                    ctx.strokeStyle = `rgba(255, 215, 0, ${pulse * 0.6})`;
                    ctx.lineWidth = 3;
                    ctx.beginPath();
                    ctx.arc(centerX, centerY, fish.width * 0.6, 0, Math.PI * 2);
                    ctx.stroke();
                    
                    ctx.strokeStyle = `rgba(255, 215, 0, ${pulse * 0.8})`;
                    ctx.lineWidth = 2;
                    ctx.beginPath();
                    ctx.arc(centerX, centerY, fish.width * 0.6 * 0.7, 0, Math.PI * 2);
                    ctx.stroke();
                    ctx.restore();
                    break;
                    
                case 'particles': // æ–¹æ¡ˆA: é—ªå…‰ç²’å­
                    particles.forEach(p => {
                        p.angle += p.speed;
                        p.opacity = 0.3 + Math.sin(now / 200 + p.angle) * 0.7;
                        
                        const px = centerX + Math.cos(p.angle) * p.distance;
                        const py = centerY + Math.sin(p.angle) * p.distance;
                        
                        ctx.fillStyle = `rgba(255, 215, 0, ${p.opacity})`;
                        ctx.beginPath();
                        ctx.arc(px, py, 3, 0, Math.PI * 2);
                        ctx.fill();
                    });
                    break;
                    
                case 'gradient': // æ–¹æ¡ˆB: æŸ”å’Œå…‰æ™•
                    const gradient = ctx.createRadialGradient(
                        centerX, centerY, 0,
                        centerX, centerY, fish.width * 0.8
                    );
                    gradient.addColorStop(0, 'rgba(255, 215, 0, 0.3)');
                    gradient.addColorStop(0.5, 'rgba(255, 182, 193, 0.2)');
                    gradient.addColorStop(1, 'rgba(135, 206, 250, 0)');
                    
                    ctx.save();
                    ctx.fillStyle = gradient;
                    ctx.globalCompositeOperation = 'screen';
                    ctx.beginPath();
                    ctx.arc(centerX, centerY, fish.width * 0.8, 0, Math.PI * 2);
                    ctx.fill();
                    ctx.restore();
                    break;
                    
                case 'bubbles': // æ–¹æ¡ˆC: æ°”æ³¡å°¾è¿¹
                    if (Math.random() < 0.3) {
                        fish.bubbles.push({
                            x: fish.x + fish.width / 2,
                            y: fish.y + fish.height / 2,
                            size: 2 + Math.random() * 4,
                            vy: -0.5 - Math.random() * 0.5,
                            life: 1.0
                        });
                    }
                    
                    fish.bubbles = fish.bubbles.filter(bubble => {
                        bubble.y += bubble.vy;
                        bubble.life -= 0.01;
                        
                        if (bubble.life > 0) {
                            ctx.fillStyle = `rgba(173, 216, 230, ${bubble.life * 0.6})`;
                            ctx.strokeStyle = `rgba(255, 255, 255, ${bubble.life * 0.4})`;
                            ctx.lineWidth = 1;
                            ctx.beginPath();
                            ctx.arc(bubble.x, bubble.y, bubble.size, 0, Math.PI * 2);
                            ctx.fill();
                            ctx.stroke();
                            return true;
                        }
                        return false;
                    });
                    break;
                    
                case 'crown': // æ–¹æ¡ˆD: å°çš‡å† 
                    ctx.save();
                    ctx.font = 'bold 24px Arial';
                    ctx.textAlign = 'center';
                    ctx.textBaseline = 'middle';
                    ctx.shadowColor = 'rgba(255, 215, 0, 0.8)';
                    ctx.shadowBlur = 8;
                    ctx.fillText('ğŸ‘‘', centerX, fish.y - 20);
                    ctx.restore();
                    break;
                    
                case 'glow': // æ–¹æ¡ˆE: é—ªå…‰è¾¹ç¼˜
                    ctx.save();
                    ctx.shadowColor = 'rgba(135, 206, 250, 0.8)';
                    ctx.shadowBlur = 15 + pulse * 5;
                    ctx.strokeStyle = `rgba(255, 255, 255, ${0.3 + pulse * 0.2})`;
                    ctx.lineWidth = 2;
                    ctx.beginPath();
                    ctx.ellipse(centerX, centerY, fish.width * 0.5, fish.height * 0.5, 0, 0, Math.PI * 2);
                    ctx.stroke();
                    ctx.restore();
                    break;
                    
                case 'ripple': // æ–¹æ¡ˆF: è„‰å†²æ³¢çº¹
                    const ripplePhase = (now / 1000) % 2;
                    const rippleRadius = fish.width * 0.5 * (1 + ripplePhase);
                    const rippleOpacity = 0.5 * (1 - ripplePhase / 2);
                    
                    ctx.strokeStyle = `rgba(100, 200, 255, ${rippleOpacity})`;
                    ctx.lineWidth = 2;
                    ctx.beginPath();
                    ctx.arc(centerX, centerY, rippleRadius, 0, Math.PI * 2);
                    ctx.stroke();
                    break;
                    
                case 'combo': // æ–¹æ¡ˆG: ç»„åˆæ•ˆæœ
                    // æŸ”å’Œå…‰æ™•
                    const comboGrad = ctx.createRadialGradient(
                        centerX, centerY, 0,
                        centerX, centerY, fish.width * 0.6
                    );
                    comboGrad.addColorStop(0, 'rgba(255, 223, 186, 0.15)');
                    comboGrad.addColorStop(1, 'rgba(255, 223, 186, 0)');
                    ctx.fillStyle = comboGrad;
                    ctx.beginPath();
                    ctx.arc(centerX, centerY, fish.width * 0.6, 0, Math.PI * 2);
                    ctx.fill();
                    
                    // å°‘é‡ç²’å­
                    const particleCount = 5;
                    for (let i = 0; i < particleCount; i++) {
                        const angle = (now / 1000 + i * Math.PI * 2 / particleCount) % (Math.PI * 2);
                        const distance = fish.width * 0.5;
                        const px = centerX + Math.cos(angle) * distance;
                        const py = centerY + Math.sin(angle) * distance;
                        const opacity = 0.3 + Math.sin(now / 300 + i) * 0.3;
                        
                        ctx.fillStyle = `rgba(255, 215, 0, ${opacity})`;
                        ctx.beginPath();
                        ctx.arc(px, py, 2, 0, Math.PI * 2);
                        ctx.fill();
                    }
                    break;
                    
                case 'none': // æ–¹æ¡ˆH: æ— ç‰¹æ•ˆ
                    break;
            }
        }
        
        // FPSè®¡ç®—
        let lastTime = Date.now();
        let frameCount = 0;
        let fps = 60;
        
        function animate() {
            // è®¡ç®—FPS
            frameCount++;
            const now = Date.now();
            if (now - lastTime >= 1000) {
                fps = frameCount;
                frameCount = 0;
                lastTime = now;
                document.getElementById('fps').textContent = fps;
            }
            
            drawBackground();
            updateFish();
            drawFish();
            
            requestAnimationFrame(animate);
        }
        
        // ç­‰å¾…é±¼å›¾ç‰‡åŠ è½½
        fishImage.onload = () => {
            animate();
        };
        
        // å¦‚æœå›¾ç‰‡åŠ è½½å¤±è´¥ï¼Œä¹Ÿå¼€å§‹åŠ¨ç”»
        setTimeout(() => {
            if (!fishImage.complete) {
                animate();
            }
        }, 100);
    </script>
</body>
</html>























