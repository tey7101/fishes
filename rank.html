<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Best Fish Drawings - Vote & Rankings | FishTalk.app</title>
    <meta name="description" content="Vote on the best fish doodles! Discover weird & creative fish from our global community. See top-ranked fish art, trending creations & funny fish drawings from artists worldwide.">
    <meta name="keywords" content="best fish drawings, fish art rankings, vote on fish, weird fish drawings, creative fish doodles, fish drawing contest, community fish voting, funny fish art, trending fish drawings">
    
    <!-- Open Graph tags -->
    <meta property="og:title" content="Fish Rankings - Vote on Community Fish Art">
    <meta property="og:description" content="Vote on and rank the best fish drawings from our community. Discover trending fish art.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://fishtalk.app/rank.html">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://fishtalk.app/rank.html">
    
    <link rel="stylesheet" href="src/css/animations.css?v=2.0">
    <link rel="stylesheet" href="src/css/cute-game-style.css?v=1.0">
    <link rel="stylesheet" href="src/css/style.css?v=2.0">
    <link rel="stylesheet" href="src/css/traffic.css?v=2.0">
    <link rel="stylesheet" href="src/css/auth-ui.css?v=2.3">
    <link rel="stylesheet" href="src/css/hamburger-menu.css?v=1.0">
    <link rel="stylesheet" href="src/css/fishtank-favorites.css">
    <link rel="icon" type="image/png" href="/fish_logo.png">
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-6FDEBZYFLT"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-6FDEBZYFLT');
    </script>
    
    <!-- Structured Data for Rankings -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebPage",
      "name": "Fish Rankings - Community Art Gallery",
      "description": "Browse and vote on fish artwork from our creative community. Discover trending artists and see the most popular fish drawings.",
      "url": "https://fishtalk.app/rank.html",
      "breadcrumb": {
        "@type": "BreadcrumbList",
        "itemListElement": [
          {
            "@type": "ListItem",
            "position": 1,
            "name": "Home",
            "item": "https://fishtalk.app"
          },
          {
            "@type": "ListItem", 
            "position": 2,
            "name": "Rankings",
            "item": "https://fishtalk.app/rank.html"
          }
        ]
      },
      "mainEntity": {
        "@type": "ItemList",
        "name": "Fish Art Rankings",
        "description": "Community-voted rankings of fish drawings",
        "numberOfItems": "500+"
      }
    }
    </script>
    
    <style>
        /* Main container */
        .ranking-container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            padding-top: 70px; /* 为导航栏留出空间 */
            position: relative;
            z-index: 1;
            box-sizing: border-box;
        }
        
        .ranking-header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .ranking-header h1 {
            margin: 20px 0 10px;
            font-size: 2.5em;
            color: #4F46E5;
            text-shadow: 2px 2px 4px rgba(99, 102, 241, 0.3);
            font-weight: 700;
        }
        
        /* Fish Category Filter */
        .fish-category-filter {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
        }
        
        .category-tabs {
            display: inline-flex;
            gap: 12px;
        }
        
        .category-tab {
            padding: 12px 24px;
            border: none;
            background: linear-gradient(180deg, #63A4E8 0%, #4A90E2 50%, #3A7BC8 100%);
            border-radius: 12px;
            cursor: pointer;
            font-size: 15px;
            font-weight: 700;
            color: white;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            box-shadow: 0 4px 0 0 #2C5F8F, 0 6px 12px rgba(74, 144, 226, 0.3);
            transition: all 0.15s ease;
            white-space: nowrap;
            position: relative;
            top: 0;
        }
        
        .category-tab:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 0 0 #2C5F8F, 0 8px 16px rgba(74, 144, 226, 0.4);
        }
        
        .category-tab:active {
            transform: translateY(2px);
            box-shadow: 0 2px 0 0 #2C5F8F, 0 3px 6px rgba(74, 144, 226, 0.3);
        }
        
        .category-tab.active {
            background: linear-gradient(180deg, #FF9500 0%, #FF8000 100%);
            box-shadow: 0 4px 0 0 #CC6600, 0 6px 12px rgba(255, 149, 0, 0.4);
            transform: translateY(0);
        }
        
        .category-tab.active:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 0 0 #CC6600, 0 8px 16px rgba(255, 149, 0, 0.5);
        }
        
        .category-tab.active:active {
            transform: translateY(2px);
            box-shadow: 0 2px 0 0 #CC6600, 0 3px 6px rgba(255, 149, 0, 0.4);
        }
        
        /* Text-only Sort Controls (Left Aligned) */
        .sort-controls-text {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 20px;
            padding-left: 5px;
            font-size: 14px;
        }
        
        .sort-label {
            font-weight: 600;
            color: #666;
        }
        
        .sort-link {
            color: #6366F1;
            text-decoration: none;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            padding: 2px 4px;
        }
        
        .sort-link:hover {
            color: #4F46E5;
            text-decoration: underline;
        }
        
        .sort-link.active {
            color: #4F46E5;
            font-weight: 700;
        }
        
        .sort-separator {
            color: #D1D5DB;
            font-weight: 300;
        }
        
        /* Loading state */
        .loading {
            text-align: center;
            padding: 40px;
            font-size: 18px;
            color: #6366F1;
            font-weight: 600;
        }
        
        .loading::after {
            content: '';
            display: inline-block;
            width: 20px;
            height: 20px;
            margin-left: 10px;
            border: 3px solid #C7D2FE;
            border-top-color: #6366F1;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        /* 状态完成时不显示转圈动画 */
        .status-complete::after {
            display: none;
        }
        
        /* Grid layout for fish ranking */
        .fish-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .fish-card {
            border: 2px solid #C7D2FE;
            border-radius: 20px;
            padding: 20px;
            text-align: center;
            background: linear-gradient(135deg, #EEF2FF 0%, #E0E7FF 50%, #DDD6FE 100%);
            box-shadow: 0 4px 15px rgba(99, 102, 241, 0.2);
            transition: all 0.3s ease;
            cursor: pointer;
            animation: fadeInUp 0.5s ease;
        }
        
        .fish-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 8px 25px rgba(99, 102, 241, 0.3);
            border-color: #6366F1;
        }
        
        @media (max-width: 768px) {
            .fish-grid {
                grid-template-columns: 1fr;
            }
        }
        
        .fish-image {
            max-width: 120px;
            max-height: 80px;
            border-radius: 5px;
        }
        
        .fish-info {
            margin-bottom: 15px;
        }
        
        .fish-artist {
            font-weight: bold;
            color: #333;
            margin-bottom: 5px;
            font-size: 16px;
        }
        
        .fish-date {
            color: #666;
            font-size: 12px;
            margin-bottom: 5px;
            line-height: 1.4;
        }
        
        .fish-date a {
            color: #6366F1;
            font-weight: 600;
        }
        
        .fish-date a:hover {
            color: #4F46E5;
            text-decoration: underline;
        }
        
        .fish-score {
            font-size: 16px;
            font-weight: bold;
            color: #6366F1;
            padding: 5px 10px;
            background: linear-gradient(135deg, #EEF2FF, #E0E7FF);
            border-radius: 10px;
            display: inline-block;
        }
        
        .voting-controls {
            display: flex;
            justify-content: center;
            gap: 10px;
            align-items: center;
        }
        
        .vote-btn {
            padding: 10px 18px;
            border: 2px solid #E0E0E0;
            background: white;
            cursor: pointer;
            border-radius: 15px;
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            font-size: 15px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 6px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        
        .vote-btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .upvote-btn {
            color: #6366F1;
        }
        
        .upvote-btn:hover {
            background: linear-gradient(135deg, #EEF2FF, #E0E7FF);
            border-color: #6366F1;
            color: #4F46E5;
        }
        
        
        .report-btn {
            padding: 10px 14px;
            border: 2px solid #E0E0E0;
            background: white;
            cursor: pointer;
            border-radius: 15px;
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            color: #CFD8DC;
            font-weight: 600;
        }
        
        .report-btn:hover {
            background: linear-gradient(135deg, #FFF9E6, #FFE082);
            border-color: #FFD54F;
            color: #F57C00;
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 5px 15px rgba(255, 213, 79, 0.3);
        }
        
        .vote-count {
            font-weight: bold;
        }
        
        /* Navigation */
        .nav-links {
            text-align: center;
            margin-bottom: 20px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            box-shadow: 0 4px 15px rgba(99, 102, 241, 0.2);
            border: 2px solid #C7D2FE;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .nav-links a {
            color: white;
            text-decoration: none;
            font-size: 14px;
            font-weight: 600;
            padding: 10px 20px;
            border-radius: 15px;
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            background: linear-gradient(135deg, #6366F1, #4F46E5);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        
        .nav-links a:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 5px 15px rgba(99, 102, 241, 0.4);
        }
        
        /* Modal styling */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.6);
            backdrop-filter: blur(5px);
            z-index: 1000;
            animation: fadeIn 0.3s ease;
        }
        
        .modal-content {
            background: white;
            margin: 100px auto;
            padding: 25px;
            width: 420px;
            max-width: 90%;
            border-radius: 20px;
            box-shadow: 0 15px 50px rgba(99, 102, 241, 0.3);
            animation: fadeInScale 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            border: 3px solid #C7D2FE;
        }
        
        .close {
            float: right;
            cursor: pointer;
            font-size: 28px;
            color: #999;
            transition: all 0.3s ease;
            line-height: 1;
            font-weight: 300;
        }
        
        .close:hover {
            color: #6366F1;
            transform: rotate(90deg) scale(1.1);
        }
        
        /* Pagination Controls - Game Style */
        .pagination-controls {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin: 40px 0;
            padding: 20px;
            flex-wrap: wrap;
        }
        
        .pagination-btn {
            min-width: 120px;
            font-size: 15px;
        }
        
        .pagination-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            background: linear-gradient(180deg, #CCCCCC 0%, #999999 50%, #666666 100%) !important;
            border-bottom: 3px solid #555555 !important;
            transform: translateY(0) !important;
        }
        
        .pagination-btn:disabled:hover {
            transform: translateY(0) !important;
            box-shadow: var(--shadow-btn) !important;
        }
        
        .page-info {
            font-size: 16px;
            font-weight: 600;
            color: #FFFFFF;
            padding: 0 20px;
            background: none;
            border: none;
            box-shadow: none;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
        }
        
        .page-info::before {
            display: none;
        }
        
        .page-info span {
            color: #FFD700;
            font-weight: 700;
            text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
        }
        
        /* 响应式设置 */
        @media (max-width: 768px) {
            .ranking-header h1 {
                font-size: 2em;
            }
            
            .sort-controls {
                gap: 8px;
            }
            
            .sort-btn {
                padding: 8px 16px;
                font-size: 13px;
            }
            
            .nav-links {
                padding: 15px;
            }
            
            .nav-links a {
                padding: 8px 16px;
                font-size: 13px;
            }
            
            .pagination-controls {
                flex-direction: column;
                gap: 15px;
            }
            
            .pagination-btn {
                width: 100%;
                max-width: 200px;
            }
            
            .page-info {
                padding: 10px 0;
                font-size: 14px;
                width: 100%;
                text-align: center;
            }
        }
    </style>
</head>
<body class="game-style">
  <!-- 背景装饰 - 浮动气泡 -->
  <div class="game-bubbles">
    <div class="game-bubble"></div>
    <div class="game-bubble"></div>
    <div class="game-bubble"></div>
    <div class="game-bubble"></div>
    <div class="game-bubble"></div>
    <div class="game-bubble"></div>
    <div class="game-bubble"></div>
    <div class="game-bubble"></div>
  </div>

  <!-- Top Navigation Bar -->
  <nav class="game-nav">
    <!-- 汉堡菜单按钮 -->
    <button id="hamburger-menu-btn" class="hamburger-menu-btn" aria-label="Open Menu">
      <span></span>
      <span></span>
      <span></span>
    </button>
    
    <a href="index.html" class="game-logo" style="cursor: pointer; text-decoration: none; color: white;">
      FishTalk.app
    </a>
    <div class="game-nav-links">
      <!-- 登录按钮和用户菜单将由 auth-ui.js 动态插入 -->
    </div>
  </nav>

  <!-- 侧边栏菜单 -->
  <div id="sidebar-menu" class="sidebar-menu">
    <div class="sidebar-header">
      <h3>🐟 Menu</h3>
      <button id="close-sidebar-btn" class="close-sidebar-btn" aria-label="Close menu">&times;</button>
    </div>
    <nav class="sidebar-nav">
      <a href="index.html" class="sidebar-link">
        <span class="sidebar-icon">🎨</span>
        <span>Draw Fish</span>
      </a>
      <a href="tank.html" class="sidebar-link">
        <span class="sidebar-icon">🌊</span>
        <span>Global Tank</span>
      </a>
      <a href="tank.html?view=my" class="sidebar-link">
        <span class="sidebar-icon">🏠</span>
        <span>My Tank</span>
      </a>
      <a href="profile.html" class="sidebar-link">
        <span class="sidebar-icon">👤</span>
        <span>Profile</span>
      </a>
      <a href="membership.html" class="sidebar-link" id="sidebar-upgrade-link" style="display: none;">
        <span class="sidebar-icon"><img src="https://cdn.fishart.online/fishart_web/icon/premium.svg" alt="Premium" style="width: 28px; height: 28px; object-fit: contain;"></span>
        <span>Upgrade</span>
      </a>
      <a href="#" id="sidebar-share-btn" class="sidebar-link">
        <span class="sidebar-icon">📤</span>
        <span>Share</span>
      </a>
    </nav>
  </div>
  
  <!-- 侧边栏遮罩 -->
  <div id="sidebar-overlay" class="sidebar-overlay"></div>

  <div class="nav-links animate-fadeInUp delay-1" style="display: none;">
        <a href="index.html">🎨 Draw</a>
        <a href="tank.html">🐠 Tank</a>
        <a href="rank.html">🏆 Rankings</a>
        <a href="profile.html">👤 Profile</a>
        <a href="myfish.html" id="my-fish-link" style="display: none;">🐟 My Fish</a>
        <a href="tank.html?view=my" id="my-tanks-link">🏠 My Tank</a>
        <a href="login.html" id="auth-link">🔐 Login</a>
    </div>
    
    <div class="ranking-container">
        <!-- Fish Category Filter (Rank / My Fish / Favorites) -->
        <div id="fish-category-filter" class="fish-category-filter">
            <div class="category-tabs">
                <button class="category-tab active" data-category="rank">
                    🏆 Rank (<span id="rank-count">0</span>)
                </button>
                <button class="category-tab" data-category="my-fish">
                    🎨 My Fish (<span id="my-fish-count">0</span>)
                </button>
                <button class="category-tab" data-category="favorites">
                    ⭐ Favorites (<span id="favorites-count">0</span>)
                </button>
            </div>
        </div>
        
        <!-- Text-only Sort Controls (Left Aligned) -->
        <div class="sort-controls-text">
            <span class="sort-label">Sort:</span>
            <a href="javascript:void(0)" id="sort-hot-btn" class="sort-link" data-sort="hot">🔥 Hot</a>
            <span class="sort-separator">|</span>
            <a href="javascript:void(0)" id="sort-date-btn" class="sort-link active" data-sort="date">📅 Date</a>
        </div>
        
        <div id="loading" class="loading">
            Loading fish... 
        </div>
        
        <div id="fish-grid" class="fish-grid" style="display: none;">
            <!-- Fish cards will be populated here -->
        </div>
        
        <!-- Pagination Controls -->
        <div id="pagination-controls" class="pagination-controls" style="display: none;">
            <button id="prev-page-btn" class="game-btn game-btn-primary pagination-btn" disabled>
                ◀ Previous
            </button>
            <span id="page-info" class="page-info">
                Page <span id="current-page">1</span> of <span id="total-pages">1</span>
            </span>
            <button id="next-page-btn" class="game-btn game-btn-primary pagination-btn">
                Next ▶
            </button>
        </div>
    </div>
    
    <!-- Modals are now handled by modal-utils.js -->
    
    
    <script src="src/js/footer-utils.js"></script>
    <!-- Supabase SDK -->
    <script src="public/supabase-config.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="src/js/supabase-init.js"></script>
    <script src="src/js/auth-cache.js?v=1.0"></script>
    <script src="src/js/fish-utils.js?v=2.5"></script>
    <script src="src/js/social-config.js?v=2.1"></script>
    <script src="src/js/social-share.js?v=2.1"></script>
    <script src="src/js/membership-icons.js?v=2.0"></script>
    <script src="src/js/auth-ui.js?v=2.5"></script>
    <script src="src/js/fish-info-modal.js?v=1.0"></script>
    <script src="src/js/hamburger-menu.js?v=1.0"></script>
    <script src="src/js/modal-utils.js"></script>
    <!-- Fish Tank Favorites Module -->
    <script src="src/js/fishtank-favorites.js"></script>
    <script src="src/js/rank.js"></script>
    <script>
        // Modal functionality is now handled by modal-utils.js
        
        // Initialize navigation authentication
        initializeAuthNavigation();
    </script>

  <!-- Bottom Info Bar -->
  <footer class="game-footer">
    <!-- SEO Content Section -->
    <div style="max-width: 1000px; margin: 10px auto; padding: 10px 20px; background: rgba(255, 255, 255, 0.08); border-radius: 12px; text-align: center;">
      <p style="font-size: 14px; line-height: 1.5; color: rgba(255, 255, 255, 0.9); margin: 0; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;">
        <strong>Draw a fish online</strong> and watch it swim in our <strong>global tank</strong> with 50,000+ doodles from artists worldwide! Our free AI tool validates your fish art in real-time. See <strong>weird, creative, and funny fish</strong> drawings. Perfect for artists, students, teachers.
      </p>
    </div>
    
    <div class="game-footer-links">
      <a href="tank.html" class="game-footer-link">Global Fish Tank</a>
      <a href="talking-fish.html" class="game-footer-link">Talking Fish</a>
      <a href="ai-fish.html" class="game-footer-link">AI Fish</a>
      <a href="fish-doodle-community.html" class="game-footer-link">Community</a>
      <a href="about.html" class="game-footer-link">About</a>
      <a href="how-to-draw-a-fish.html" class="game-footer-link">How to Draw a Fish</a>
      <a href="fish-drawing-game.html" class="game-footer-link">Fish Drawing Game</a>
      <a href="faq.html" class="game-footer-link">FAQ</a>
    </div>
  </footer>

</body>
</html>
